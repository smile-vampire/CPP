# 博客系统

##### 一、项目简介

学习完操作系统网络编程比较感兴趣，实现了这么一个简单的博客系统对知识所学知识进行运用。

提供一个浏览器界面，能够实现管理我们的博客（增删查改）；能够让用户对自己的博客进行管理，查看其他用户博客。

开发环境：Centos7.5-Vim/G++7.3/Makefile/Vscode

##### 二、框架设计

采用了MVC框架，为了让代码更加清晰，耦合度低，业务逻辑、数据、界面分离方式组织代码

**后台数据管理模块**：基于MySQL的C语言接口封装数据库访问模块

​		1.设计数据库，需要博客表（table_blog）、用户表(table_user)、标签表(table_tag)

​		2.将数据库校验以及数据库访问封装起来

​		3.封装MySQL API接口，实现TableTag,TableUser,TableBlog类，通过实例化访问数据库

​		4.数据库封装

​					①初始化 

​					②连接MySQL服务器

​                    ③设置客户端字符集

​					④语句执行（增删查改）

​					⑤对于查询还需要获取结果集、遍历结果集、**释放结果集**

​					⑥关闭数据库

**业务处理模块**：基于httplib搭建服务器进行网络通信，网络接口基于Resful风格接口API进行				设计，使用jsoncpp实现数据序列化和反序列化

​		1.用户要通过浏览器获取首页，要设计前端客户端与后端服务器之间的数据交互---网络通信

​		2.数据交互接口，用户发送请求，服务端做响应--采用HTTP协议

​		3.通信接口采用Restful风格，基于HTTP协议，通信接口规范

​				Ⅰ、POST新增

​				Ⅱ、GET获取

​				Ⅲ、PUT修改

​				Ⅳ、DELETE删除

​		4.使用libjsoncpp实现数据格式序列化和反序列化

​		5.使用httplib搭建HTTP服务器，根据前端请求处理业务	

**前端界面模块**：基于HTML/CSS/veu.js/AJAX实现前端界面动态交互

​		1.HTML：标签性语言，渲染基本的网页

​		2.CSS:使渲染的页面更加好看

​		3.vue.js：是页面由静态变为动态

​		4.AJAX：实现异步交互

##### 项目测试：

![1598660851502](C:\Users\闫凯\AppData\Roaming\Typora\typora-user-images\1598660851502.png)

问题1：三张数据库表通过同一个mysql句柄进行数据查询操作、但是执行过程与将数据数据加载本地不是一个原子操作，第一个查询语句执行完毕，还没来得及存储到本地，第二个查询到了，覆盖掉了第一个。

解决方案：对数据库增删查语句进行加锁，防止发生覆盖问题。

问题2：单个博客的展示，获取博客列表时，将每个博客的内容也获取了（会导致初始化获取博客表的时候表较慢数据比较多，但又不显示博客内容）。

解决方案：语句查询过程中不再执行获取博客内容操作。

##### 三、项目问题

​		1.网络通信采用什么协议？

​		2.博客、标签、用户信息如何进行序列化存储？

​		3.通信接口如何设计？

​		4.如何封装数据库访问接口？

​		5.httplib如何搭建HTTP服务器？

​		6.HTTP协议通信流程？

​		7.点击博客标题如何显示内容？

##### 四、项目扩展

​	博客系统页面比较单一，可以增加其他功能来丰富网站内容，可以模拟博客网站添加论坛，也可以	添加音乐播放功能。

​	